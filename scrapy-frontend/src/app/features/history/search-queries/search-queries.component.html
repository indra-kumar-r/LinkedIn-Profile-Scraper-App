<div class="search-queries-wrapper">
  <div class="sidebar">
    <app-sidebar></app-sidebar>
  </div>

  <div class="search-queries-container">
    <div class="header-section">
      <div class="text-secondary fw-bold text-uppercase">Search Queries</div>
    </div>

    <ng-container *ngIf="!loadingSearchQueries; else loaderContainer">
      <ng-container
        *ngIf="searchResults.length > 0; else emptyResultsContainer"
      >
        <div class="search-queries-section">
          <div class="search-queries-headers-section text-secondary fw-bold">
            <span class="fs-6 text-dark">
              {{ searchResults.length }}
            </span>

            search queries
          </div>

          <div class="search-queries-details-section">
            <div
              class="search-query"
              *ngFor="let query of searchResults"
              (click)="viewSearchResults(query.searchId)"
            >
              <div class="query-content-section">
                <div class="query-content">
                  <span>Search:</span>
                  <span class="fw-bold text-dark">
                    {{ query.query }}
                  </span>
                </div>

                <div
                  class="copy-btn"
                  (click)="
                    $event.stopPropagation(); copySearchQuery(query.query)
                  "
                >
                  <i class="bi bi-copy fs-5"></i>
                </div>
              </div>

              <div class="query-content-section query-detail-section">
                <div class="query-content">
                  <span>Search count:</span>
                  <span class="fw-bold text-dark">
                    {{ query.searchCount }}
                  </span>
                </div>

                <div class="query-content">
                  <span>Searched on:</span>
                  <span class="fw-bold text-dark">
                    {{ query.createdAt | date }}
                  </span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-container>

      <ng-template #emptyResultsContainer>
        <div class="empty-results-section">
          <img src="empty_results.png" alt="Logo" />

          <div class="info text-secondary fw-bold text-uppercase">
            No search queries found!
          </div>

          <button class="btn btn-dark" (click)="navigateToSearch()">
            New search
          </button>
        </div>
      </ng-template>
    </ng-container>

    <ng-template #loaderContainer>
      <div class="loader-wrapper">
        <div class="spinner-border" role="status"></div>
      </div>
    </ng-template>
  </div>
</div>
